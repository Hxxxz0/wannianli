# TV-PRO 智能时钟 - 网页设置指南

## 🚀 快速开始

### 1️⃣ 首次配置（必须步骤）
1. **连接设备热点**
   - 设备开机后自动创建 `TV-PRO` 热点
   - 手机连接该热点（无密码）
   - 浏览器访问：`http://192.168.4.1`

2. **设置WiFi网络**
   - 填写您的WiFi名称和密码
   - 点击"保存配置"
   - 设备自动重启并连接您的WiFi

### 2️⃣ 高级设置（连接WiFi后）

#### 📱 找到设备IP地址
设备连接WiFi后，通过以下方式获取IP地址：
- **方法1（推荐）**：在设备上按按键切换到"网络信息页面"（第5页）
- **方法2**：查看路由器管理页面，找到"TV-PRO"设备
- **方法3**：使用网络扫描工具扫描局域网
- **方法4**：串口监视器查看（开发者模式）

#### 🔍 通过设备屏幕查看IP地址
1. **设备启动时**：
   - WiFi连接成功后，屏幕会显示5秒钟的IP地址信息
   - 显示格式：`Device IP: 192.168.1.100`

2. **按键查看**：
   - 按右键4次，切换到"网络信息页面"（第5页）
   - 页面会显示详细的网络信息，包括大字体的IP地址

#### 🌐 访问设置页面
在浏览器中访问：`http://[设备IP地址]`
例如：`http://192.168.1.100`

## ⭐ 核心功能设置

### 🕐 AM/PM 时间格式设置

1. **访问设置页面**
   ```
   http://[设备IP]/
   ```

2. **找到"显示设置"区域**
   - 勾选：✅ **使用12小时制（AM/PM格式）**
   - 取消勾选：❌ 使用24小时制

3. **点击"更新显示设置"**
   - 设置立即生效
   - 主页面时间格式自动切换

#### 显示效果对比：
- **24小时制**：`14:30`
- **12小时制**：`2:30 PM`

### 📅 农历显示设置

1. **在设置页面找到"显示设置"**
   - 勾选：✅ **显示农历日期**
   - 取消勾选：❌ 隐藏农历

2. **农历显示位置**
   - **主页面**：公历日期下方显示农历
   - **农历页面**：详细农历信息（按键切换到第4页）

#### 农历显示示例：
```
主页面显示：
2024.12.15
腊月十五        ← 农历显示

农历页面显示：
公历: 2024年12月15日
农历: 腊月十五    ← 大字显示
星期六
```

### 🔄 自动页面轮转

1. **启用自动轮转**
   - 勾选：✅ **自动轮转页面**

2. **设置轮转间隔**
   - 选择：5秒/10秒/15秒/30秒

3. **轮转顺序**
   ```
   主页面 → 天气页面 → 时间详情 → 农历页面 → 网络信息页面 → 主页面...
   ```

## 📱 可用网页页面

### 主设置页面
```
http://[设备IP]/
```
- 完整的设置界面
- 网络配置、天气配置、显示设置
- 设备信息查看

### 帮助页面  
```
http://[设备IP]/help
```
- 快速功能说明
- 当前设备状态
- 页面功能介绍

### 设备状态API
```
http://[设备IP]/status
```
- JSON格式的设备状态
- 便于程序化访问
- 实时数据查询

## 🎮 设备按键操作

- **左键**：切换到上一页面
- **右键**：切换到下一页面  
- **中键短按**：回到主页面
- **中键长按（2秒）**：重新进入配置模式

## 🎯 页面布局说明

### 页面0：主页面
```
┌─────────────────────┐
│ LOGO         星期三 │
│                     │
│     14:30 PM        │  ← AM/PM显示
│                     │
│   2024.12.15       │
│   腊月十五         │  ← 农历显示
│ ─────────────────── │
│ [天气图标] 青岛     │
│            H: 65%   │
│            T: 8°C   │
└─────────────────────┘
```

### 页面3：农历页面
```
┌─────────────────────┐
│ Lunar Calendar      │
│ ─────────────────── │
│ 公历:               │
│ 2024年12月15日      │
│                     │
│ 农历:               │
│   腊月十五          │  ← 大字显示
│                     │
│ 星期六              │
│ 网络正常            │
└─────────────────────┘
```

### 页面4：网络信息页面
```
┌─────────────────────┐
│ Network Info        │
│ ─────────────────── │
│ WiFi: Connected     │
│                     │
│ Device IP:          │
│  192.168.1.100      │  ← 大字显示IP
│                     │
│ Network: MyWiFi     │
│ Signal: -45 dBm (强) │
│                     │
│ Web Settings:       │
│ http://192.168.1.100│
└─────────────────────┘
```

## ✅ 设置验证

### AM/PM格式验证
1. 设置12小时制后，查看主页面
2. 时间应显示为 "2:30 PM" 格式
3. AM时段显示 "AM"，PM时段显示 "PM"

### 农历显示验证
1. 启用农历显示后，查看主页面
2. 日期下方应显示农历日期
3. 按右键3次切换到农历页面，查看详细农历信息

## 🔧 故障排除

### 无法访问设置页面
1. **确认设备已连接WiFi**
   - 查看设备屏幕是否显示正常内容
   - 检查路由器是否显示设备已连接

2. **确认IP地址正确**
   - 重新扫描网络获取正确IP
   - 尝试访问帮助页面：`http://[IP]/help`

3. **清除浏览器缓存**
   - 强制刷新页面（Ctrl+F5）
   - 尝试不同浏览器

### 设置不生效
1. **等待设置保存**
   - 点击设置按钮后等待页面跳转
   - 查看设备串口输出确认保存成功

2. **重启设备**
   - 网页点击"重启设备"按钮
   - 或断电重新上电

### 农历显示不正确
- 目前农历算法为简化版本，主要支持2024年
- 其他年份可能显示为估算值
- 后续版本将改进农历算法精度

## 📞 技术支持

遇到问题时，请检查：
1. ✅ WiFi连接状态
2. ✅ 设备IP地址
3. ✅ 浏览器兼容性
4. ✅ 设置保存状态

更多技术细节请参考完整的 `README.md` 文档。 